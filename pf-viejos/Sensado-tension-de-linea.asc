Version 4
SHEET 1 1228 680
WIRE 144 112 -16 112
WIRE 336 112 224 112
WIRE 464 112 336 112
WIRE 720 112 720 80
WIRE 720 112 656 112
WIRE -16 128 -16 112
WIRE 336 128 336 112
WIRE 336 208 336 192
WIRE 336 208 -16 208
WIRE 464 208 336 208
WIRE 720 208 656 208
WIRE 720 224 720 208
WIRE 720 320 720 304
FLAG 720 0 0
FLAG 720 320 0
FLAG 336 208 0
SYMBOL voltage -16 112 R0
WINDOW 3 -96 117 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 {Vin*sqrt(2)} 50)
SYMBOL res 240 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 300k
SYMBOL diode 352 192 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL Optos\\PC817A 560 160 R0
SYMATTR InstName U1
SYMBOL voltage 720 96 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res 704 208 R0
SYMATTR InstName R2
SYMATTR Value 4.7k
TEXT -90 284 Left 2 !.tran 60m
TEXT 848 160 Left 2 !.step param Vin list 110 220 240
