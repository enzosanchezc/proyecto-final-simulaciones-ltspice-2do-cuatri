Version 4
SHEET 1 2088 1364
WIRE -208 -144 -576 -144
WIRE 16 -144 -208 -144
WIRE -576 -48 -576 -144
WIRE -576 -48 -656 -48
WIRE -496 -48 -576 -48
WIRE -656 32 -656 -48
WIRE -496 32 -496 -48
WIRE 16 80 16 -144
WIRE 288 80 16 80
WIRE 384 80 288 80
WIRE 608 80 496 80
WIRE 752 80 672 80
WIRE 816 80 752 80
WIRE 976 80 896 80
WIRE 1072 80 976 80
WIRE 1136 80 1072 80
WIRE 1136 96 1136 80
WIRE -208 112 -208 -144
WIRE 288 112 288 80
WIRE 384 112 384 80
WIRE 496 112 496 80
WIRE 752 112 752 80
WIRE 976 112 976 80
WIRE 16 128 16 80
WIRE -656 144 -656 96
WIRE -624 144 -656 144
WIRE -496 144 -496 96
WIRE -496 144 -544 144
WIRE -656 192 -656 144
WIRE -496 192 -496 144
WIRE 288 224 288 192
WIRE 288 224 208 224
WIRE 384 224 384 192
WIRE 384 224 288 224
WIRE 496 240 496 192
WIRE 752 240 752 176
WIRE 976 240 976 176
WIRE 16 256 16 208
WIRE 208 256 208 224
WIRE 1136 256 1136 176
WIRE -656 272 -656 256
WIRE -576 272 -656 272
WIRE -496 272 -496 256
WIRE -496 272 -576 272
WIRE -576 288 -576 272
WIRE -208 288 -208 176
WIRE 160 336 144 336
WIRE 16 400 16 320
WIRE 208 400 208 352
WIRE 160 512 96 512
WIRE 304 512 224 512
WIRE -560 592 -560 576
WIRE 96 592 96 512
WIRE 128 592 96 592
WIRE 208 592 192 592
WIRE 304 592 304 512
WIRE 304 592 288 592
WIRE -560 688 -560 672
WIRE 304 688 304 592
WIRE 304 688 272 688
WIRE 320 688 304 688
WIRE 1072 688 1072 80
WIRE 1072 688 400 688
WIRE 96 704 96 592
WIRE 96 704 -528 704
WIRE 144 704 96 704
WIRE 208 704 144 704
WIRE -656 720 -704 720
WIRE -592 720 -656 720
WIRE 304 720 272 720
WIRE -480 736 -528 736
WIRE 304 736 304 720
WIRE -480 768 -480 736
WIRE -480 864 -480 848
FLAG 496 240 0
FLAG 752 240 0
FLAG 976 240 0
FLAG 1136 256 0
FLAG 208 400 0
FLAG 16 400 0
FLAG -576 288 0
FLAG -208 288 0
FLAG 144 336 Vgl
FLAG -656 720 Vgl
FLAG -480 864 0
FLAG -560 576 0
FLAG 144 704 Vo_int
FLAG 304 816 0
FLAG -560 752 0
SYMBOL ind2 368 96 R0
SYMATTR InstName L1
SYMATTR Value 300µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=2m
SYMBOL ind2 480 96 R0
SYMATTR InstName L2
SYMATTR Value 152µ
SYMATTR Type ind
SYMBOL ind 800 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 400µ
SYMATTR SpiceLine Rser=20m
SYMBOL cap 960 112 R0
SYMATTR InstName C1
SYMATTR Value 100µ
SYMATTR SpiceLine Rser=10m
SYMBOL res 1120 80 R0
SYMATTR InstName R1
SYMATTR Value 6.71
SYMBOL nmos 160 256 R0
SYMATTR InstName M2
SYMATTR Value AOD280A60
SYMBOL diode 32 320 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode 608 96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL diode 768 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL ind 272 96 R0
SYMATTR InstName L3
SYMATTR Value 5m
SYMBOL voltage -640 144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 Invisible 2
WINDOW 123 0 0 Left 0
SYMATTR InstName Vac
SYMATTR Value SINE(0 {110*sqrt(2)} 50)
SYMATTR SpiceLine Rser=10m
SYMBOL diode -512 256 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMBOL diode -640 256 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMBOL cap -224 112 R0
SYMATTR InstName C2
SYMATTR Value 220µ
SYMATTR SpiceLine Rser=0.1
SYMBOL res 416 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res 304 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 19.5k
SYMBOL cap 192 576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 2.62n
SYMBOL voltage -480 752 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Invisible 2
SYMATTR Value PULSE(0 48 0 {(1-1e-3)/fsw} {1e-3/fsw} 0 {1/fsw})
SYMATTR InstName Vst
SYMBOL voltage -560 688 M180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL diode -512 96 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode -640 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL ind2 32 224 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L5
SYMATTR Value 300µ
SYMATTR Type ind
SYMBOL cap 224 496 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 0.17n
SYMBOL voltage 304 720 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 48
SYMBOL OpAmps\\UniversalOpAmp 240 704 M0
SYMATTR InstName U1
SYMBOL OpAmps\\UniversalOpAmp2 -560 720 M0
SYMATTR InstName U3
SYMATTR Value2 Avol=1Meg GBW=100G Slew=10Meg
TEXT 392 56 Left 2 !K L1 L2 L5 1
TEXT -1464 352 Left 2 !.tran 50m uic
TEXT -1464 376 Left 2 !.param Vac=110 fsw=125k Vsw=12
TEXT -1360 592 Left 2 ;AOD280A60:\nD=0.22@220Vrms\nDmin=0.2@240Vrms\nDmax=0.5@110Vrms
TEXT 408 264 Left 2 ;1.41:1
TEXT 40 784 Left 2 !.ic V(Vo_int)=0
TEXT -616 512 Left 2 ;PWM
TEXT -432 688 Left 1 ;e(t)*R10/R9 + int(e(t))/(R9*C3)
TEXT -344 728 Left 2 ;Kp=R10/R9\nKi=1/(R9*C3)
